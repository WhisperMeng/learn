# 简介

## 主题模型

在主题模型中，消息的生产者成为发布者（Publisher），消息的消费者称为订阅者（Subscriber），存放消息的容器称为（Topic）。
发布者将消息发送到指定的主题中，订阅者需要提前订阅主题才能接收指定主题的消息

## RocketMQ架构

- Broker：主要负责消息的存储、投递、查询以及服务高可用的保障。一个Topic可以配置多个队列，可以分布在多个Broker上，一个Broker可以配置多个Topic，他们是多对多的关系。
- NameServer：Broke管理和路由信息管理，类似注册中心。
- Producer：消息发布的角色，支持分布式集群方式部署，类似生产者。
- Consumer：消息消费的角色，支持分布式集群方式部署，支持以push推和pull拉两种模式对消息进行消费。同时也支持集群方式和广播方式的消费，提供实时消息订阅机制，类似于消费者，

RocketMQ提供master/salve的结构，解决宕机消息不能处理的问题。






- RocketMQ单机支持1万以上的持久化队列，前提是足够的内存和硬盘空间。
- RocketMQ的数据过期后定时删除。
- RocketMQ所有消息都是持久化的，因为按优先级排序开销非常大，所以没有特意支持。但是可以通过配置一个优先级高的队列来实现排序。
- RocketMQ可以严格保证消息有序
- RocketMQ利用Linux文件系统内存cache来提高性能
- RocketMQ可以通过同步技术保证消息不丢失，但是会影响性能
